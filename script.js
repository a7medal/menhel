const branches = {
    mh1: {
        name: "المنهل 1",
        assets: [
            {
                title: "دليل الهوية البصرية",
                icon: "library_books",
                files: [
                    { name: "PDF", url: "guide.pdf" },
                    { name: "PPT", url: "guide.pptx" }
                ]
            },
            {
                title: "الشعار الرسمي",
                icon: "format_shapes",
                files: [
                    { name: "ملون (PNG)", url: "logo.png" },
                    { name: "أبيض/أسود (JPG)", url: "bw.jpg" },
                    { name: "لون أحادي (SVG)", url: "mono.svg" },
                    { name: "ملف PDF", url: "logo.pdf" }
                ]
            },
            {
                title: "الخطوط الرسمية",
                icon: "font_download",
                files: [
                    { name: "Cairo Regular (OTF)", url: "cairo.otf" },
                    
                ]
            },
            {
                title: "ورق المراسلات",
                icon: "description",
                files: [
                    { name: "DOC", url: "mh1.letter.docx" },
                    { name: "JPEG", url: "mh1.letter.jpg" },
                    { name: "PDF", url: "letter.pdf" }
                ]
            },
            {
                title: "الشهادات",
                icon: "verified",
                files: [
                    { name: "DOC", url: "certificate.docx" },
                    { name: "PNG", url: "certificate.png" },
                    { name: "PDF", url: "certificate.pdf" }
                ]
            },
            {
                title: "الرأسية",
                icon: "vertical_align_top",
                files: [
                    { name: "DOC", url: "mh1.header.docx" },
                    { name: "JPEG", url: "mh1.header.jpg" },
                    { name: "PDF", url: "mh1.header.pdf" }
                ]
            },
            {
                title: "بطاقة العمل",
                icon: "contact_mail",
                files: [
                    { name: "PDF", url: "mh1.card.pdf" },
                    { name: "JPEG", url: "mh1.card.jpg" },
                    { name: "PNG", url: "mh1.card.png" }
                ]
            },
            {
                title: "الأختام",
                icon: "stamp",
                files: [
                    { name: "(PDF) ختم الإدارة ", url: "direction.pdf" },
                    { name: "(PDF) ختم المحاسبة", url: "comtablity.pdf" },
                        ]
            },
            {
                title: "وصل الدفع",
                icon: "receipt",
                files: [
                    { name: "PDF", url: "mh1.payment.pdf" },
                    { name: "PNG", url: "mh1.payment.png" }
                ]
            },
            {
                title: "شعار الرابطة",
                icon: "groups",
                files: [
                    { name: "PNG", url: "association.png" },
                    { name: "JPG", url: "association.jpg" },
                    { name: "SVG", url: "association.svg" },
                    { name: "PDF", url: "association.pdf" }
                ]
            },
            {
                title: "ألوان الهوية",
                icon: "palette",
                colors: [
                    { name: "الخلفية", code: "#EEECE9", type: "HEX" },
                    { name: "CMYK", code: "C70 M40 Y60 K20" },
                    { name: "RGB", code: "28, 100, 89" },
                    { name: "الأساسي", code: "#1C6459", type: "HEX" },
                    { name: "الثانوي", code: "#123740", type: "HEX" },
                    { name: "التأكيدي", code: "#DBA437", type: "HEX" }
                ]
            }
        ]
    },
    mh2: {
        name: "المنهل ٢",
        assets: [
            {
                title: "دليل الهوية البصرية",
                icon: "library_books",
                files: [
                    { name: "PDF", url: "guide.pdf" },
                    { name: "PPT", url: "guide.pptx" }
                ]
            },
            {
                title: "الشعار الرسمي",
                icon: "format_shapes",
                files: [
                    { name: "ملون (PNG)", url: "color.png" },
                    { name: "أبيض/أسود (JPG)", url: "bw.jpg" },
                    { name: "لون أحادي (SVG)", url: "mono.svg" },
                    { name: "ملف PDF", url: "logo.pdf" }
                ]
            },
            {
                title: "الخطوط الرسمية",
                icon: "font_download",
                files: [
                    { name: "Cairo Regular (OTF)", url: "regular.otf" },
                    { name: "Cairo Bold (TTF)", url: "bold.ttf" }
                ]
            },
            {
                title: "ورق المراسلات",
                icon: "description",
                files: [
                    { name: "DOC", url: "mh2.letter.docx" },
                    { name: "JPEG", url: "mh2.letter.jpg" },
                    { name: "PDF", url: "mh2.letter.pdf" }
                ]
            },
            {
                title: "الشهادات",
                icon: "verified",
                files: [
                    { name: "DOC", url: "certificate.docx" },
                    { name: "PNG", url: "certificate.png" },
                    { name: "PDF", url: "certificate.pdf" }
                ]
            },
            {
                title: "الرأسية",
                icon: "vertical_align_top",
                files: [
                    { name: "DOC", url: "mh2.header.docx" },
                    { name: "JPEG", url: "mh2.header.jpg" },
                    { name: "PDF", url: "mh2.header.pdf" }
                ]
            },
            {
                title: "بطاقة العمل",
                icon: "contact_mail",
                files: [
                    { name: "PDF", url: "mh2.card.pdf" },
                    { name: "JPEG", url: "mh2.card.jpg" },
                    { name: "PNG", url: "mh2.card.png" }
                ]
            },
            {
                title: "الأختام",
                icon: "stamp",
                files: 
                    { name: "PDF", url: "mh2.seal.pdf" },
                    { name: "PNG", url: "mh2.seal.png" },
                    { name: "SVG", url: "mh2.seal.svg" }
                ]
            },
            {
                title: "وصل الدفع",
                icon: "receipt",
                files: [
                    { name: "PDF", url: "mh2.payment.pdf" },
                    { name: "PNG", url: "mh2.payment.png" }
                ]
            },
            },
            {
                title: "شعار الرابطة",
                icon: "groups",
                files: [
                    { name: "PNG", url: "association.png" },
                    { name: "JPG", url: "association.jpg" },
                    { name: "SVG", url: "association.svg" },
                    { name: "PDF", url: "association.svg" }
                ]
            },
            {
                title: "ألوان الهوية",
                icon: "palette",
                colors: [
                    { name: "الخلفية", code: "#EEECE9", type: "HEX" },
                    { name: "CMYK", code: "C70 M40 Y60 K20" },
                    { name: "RGB", code: "28, 100, 89" },
                    { name: "الأساسي", code: "#1C6459", type: "HEX" },
                    { name: "الثانوي", code: "#123740", type: "HEX" },
                    { name: "التأكيدي", code: "#DBA437", type: "HEX" }
                ]
            }
        ]
    },
    mh3: {
        name: "المنهل ٣",
        assets: [
            {
                title: "دليل الهوية البصرية",
                icon: "library_books",
                files: [
                    { name: "PDF", url: "assets/mh3/documents/guide.pdf" },
                    { name: "PPT", url: "assets/mh3/documents/guide.pptx" }
                ]
            },
            {
                title: "الشعار الرسمي",
                icon: "format_shapes",
                files: [
                    { name: "ملون (PNG)", url: "assets/mh3/logos/color.png" },
                    { name: "أبيض/أسود (JPG)", url: "assets/mh3/logos/bw.jpg" },
                    { name: "لون أحادي (SVG)", url: "assets/mh3/logos/mono.svg" },
                    { name: "ملف PDF", url: "assets/mh3/logos/logo.pdf" }
                ]
            },
            {
                title: "الخطوط الرسمية",
                icon: "font_download",
                files: [
                    { name: "Cairo Regular (OTF)", url: "assets/mh3/fonts/regular.otf" },
                    { name: "Cairo Bold (TTF)", url: "assets/mh3/fonts/bold.ttf" }
                ]
            },
            {
                title: "ورق المراسلات",
                icon: "description",
                files: [
                    { name: "DOC", url: "assets/mh3/documents/letter.docx" },
                    { name: "JPEG", url: "assets/mh3/documents/letter.jpg" },
                    { name: "PDF", url: "assets/mh3/documents/letter.pdf" }
                ]
            },
            {
                title: "الشهادات",
                icon: "verified",
                files: [
                    { name: "DOC", url: "assets/mh3/documents/certificate.docx" },
                    { name: "PNG", url: "assets/mh3/documents/certificate.png" },
                    { name: "PDF", url: "assets/mh3/documents/certificate.pdf" }
                ]
            },
            {
                title: "الرأسية",
                icon: "vertical_align_top",
                files: [
                    { name: "DOC", url: "assets/mh3/documents/header.docx" },
                    { name: "JPEG", url: "assets/mh3/documents/header.jpg" },
                    { name: "PDF", url: "assets/mh3/documents/header.pdf" }
                ]
            },
            {
                title: "بطاقة العمل",
                icon: "contact_mail",
                files: [
                    { name: "PDF", url: "assets/mh3/documents/card.pdf" },
                    { name: "JPEG", url: "assets/mh3/documents/card.jpg" },
                    { name: "PNG", url: "assets/mh3/documents/card.png" }
                ]
            },
            {
                title: "الأختام",
                icon: "stamp",
                files: [
                    { name: "PDF", url: "assets/mh3/documents/seal.pdf" },
                    { name: "PNG", url: "assets/mh3/documents/seal.png" },
                    { name: "SVG", url: "assets/mh3/documents/seal.svg" }
                ]
            },
            {
                title: "وصل الدفع",
                icon: "receipt",
                files: [
                    { name: "PDF", url: "assets/mh3/documents/payment.pdf" },
                    { name: "PNG", url: "assets/mh3/documents/payment.png" }
                ]
            },
            {
                title: "شعار الرابطة",
                icon: "groups",
                files: [
                    { name: "PNG", url: "assets/mh3/logos/association.png" },
                    { name: "JPG", url: "assets/mh3/logos/association.jpg" },
                    { name: "SVG", url: "assets/mh3/logos/association.svg" },
                    { name: "PDF", url: "assets/mh3/logos/association.pdf" }
                ]
            },
            {
                title: "ألوان الهوية",
                icon: "palette",
                colors: [
                    { name: "الخلفية", code: "#EEECE9", type: "HEX" },
                    { name: "CMYK", code: "C70 M40 Y60 K20" },
                    { name: "RGB", code: "28, 100, 89" },
                    { name: "الأساسي", code: "#1C6459", type: "HEX" },
                    { name: "الثانوي", code: "#123740", type: "HEX" },
                    { name: "التأكيدي", code: "#DBA437", type: "HEX" }
                ]
            }
        ]
    }
};

// نظام تسجيل الدخول
document.getElementById('loginForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    const username = document.getElementById('username').value.trim().toLowerCase();
    const password = document.getElementById('password').value.trim();
    const errorMsg = document.getElementById('errorMsg');

    // بيانات الدخول الصحيحة
    const validCredentials = {
        mh1: '1234',
        mh2: '5678',
        mh3: '9012'
    };

    // التحقق من صحة البيانات
    if (validCredentials[username] && validCredentials[username] === password) {
        localStorage.setItem('currentBranch', username);
        window.location.href = 'dashboard.html';
        errorMsg.style.display = 'none';
    } else {
        errorMsg.innerHTML = `
            <span class="material-icons">error_outline</span>
            اسم المستخدم أو كلمة المرور غير صحيحة!
        `;
        errorMsg.style.display = 'block';
    }
});

// تحميل بيانات الفرع
function loadBranchData(branchKey) {
    const branch = branches[branchKey];
    if (!branch) {
        window.location.href = 'index.html';
        return;
        <!-- داخل دالة loadBranchData في script.js -->
card.innerHTML = `
    <div class="card-header" onclick="toggleCard(this)">
        <span class="material-icons">${asset.icon}</span>
        <h3>${asset.title}</h3>
        <span class="material-icons arrow">expand_more</span>
    </div>
    <!-- ... باقي المحتوى -->
`;
    }

    // تحديث اسم الفرع في الهيدر
    document.getElementById('branchName').textContent = branch.name;

    // إنشاء بطاقات المحتوى
    const container = document.getElementById('cardsContainer');
    container.innerHTML = '';

    branch.assets.forEach(asset => {
        const card = document.createElement('div');
        card.className = 'asset-card';
        card.innerHTML = `
            <div class="card-header" onclick="toggleCard(this)">
                <span class="material-icons">${asset.icon}</span>
                <h3>${asset.title}</h3>
                <span class="material-icons arrow">expand_more</span>
            </div>
            <div class="card-content">
                ${asset.files ? `
                    <div class="file-grid">
                        ${asset.files.map(file => `
                            <a href="${file.url}" class="file-item" download>
                                <span class="material-icons">download</span>
                                ${file.name}
                            </a>
                        `).join('')}
                    </div>
                ` : ''}
                ${asset.colors ? `
                    <div class="color-grid">
                        ${asset.colors.map(color => `
                            <div class="color-box" style="background: ${color.code.includes('#') ? color.code : 'transparent'}">
                                <div class="color-code">${color.code}</div>
                                <div class="color-type">${color.type || ''}</div>
                            </div>
                        `).join('')}
                    </div>
                ` : ''}
            </div>
        `;
        container.appendChild(card);
    });
}

// تبديل عرض البطاقة
function toggleCard(header) {
    const card = header.parentElement;
    const content = card.querySelector('.card-content');
    const arrow = card.querySelector('.arrow');
    
    card.classList.toggle('active');
    content.style.maxHeight = card.classList.contains('active') ? `${content.scrollHeight}px` : '0';
    arrow.textContent = card.classList.contains('active') ? 'expand_less' : 'expand_more';
}

// تسجيل الخروج
function logout() {
    localStorage.removeItem('currentBranch');
    window.location.href = 'index.html';
}

// حماية الصفحة عند التحميل
window.addEventListener('DOMContentLoaded', () => {
    if (window.location.pathname.includes('dashboard.html')) {
        const currentBranch = localStorage.getItem('currentBranch');
        if (!currentBranch) {
            window.location.href = 'index.html';
        } else {
            loadBranchData(currentBranch);
        }
    }
});